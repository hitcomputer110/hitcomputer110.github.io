(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"5b07":function(t,i,e){"use strict";e.r(i);var n=e("9952"),a=e("9683");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("f690");var s=e("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6ff7c604",null,!1,n["a"],void 0);i["default"]=c.exports},6393:function(t,i,e){var n=e("6b1b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("33936d91",n,!0,{sourceMap:!1,shadowMode:!1})},"6b1b":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".content[data-v-6ff7c604]{display:flex;flex-direction:column;align-items:center;justify-content:center}.logo[data-v-6ff7c604]{height:%?200?%;width:%?200?%;margin-top:%?200?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-6ff7c604]{display:flex;justify-content:center}.title[data-v-6ff7c604]{font-size:%?36?%;color:#8f8f94}",""]),t.exports=i},9683:function(t,i,e){"use strict";e.r(i);var n=e("c461"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},9952:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{style:t.COLORTHEMECOMMON},[e("v-uni-view",{staticClass:"pagecontent",style:t.COLORTHEMESTYLE},[t.show_apploading?[e("v-uni-view",{staticClass:"loadingpage"},[e("v-uni-view",{staticClass:"loadingtop"},[e("v-uni-image",{staticClass:"loadingphoto",attrs:{mode:"aspectFit",src:"/static/images/logo.jpg"}})],1),e("v-uni-view",{staticClass:"loadingtext",staticStyle:{"margin-top":"10vh"}},[t._v("哈工大电脑110俱乐部")]),t.show_loadingerr?e("v-uni-view",{staticStyle:{"margin-top":"5vh"}},[e("v-uni-text",{staticClass:"loadingtip"},[t._v(t._s(t.show_loadingerr))]),e("v-uni-button",{staticStyle:{margin:"50rpx auto"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getReady.apply(void 0,arguments)}}},[t._v("重新连接")])],1):e("v-uni-view",{staticStyle:{"margin-top":"5vh"}},[e("v-uni-image",{staticClass:"loadingicon",attrs:{mode:"aspectFill",src:"/static/images/LOADING.gif"}})],1)],1)]:[e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"loadingtop"},[e("v-uni-image",{staticClass:"loadingphoto",attrs:{mode:"aspectFit",src:"/static/images/logo.jpg"}})],1),e("v-uni-view",{staticClass:"loadingtext",staticStyle:{"margin-top":"10vh"}},[t._v("哈工大电脑110俱乐部")]),e("v-uni-view",{staticClass:"text-area"},[e("v-uni-text",{staticClass:"title"},[t._v("将于"+t._s(t.enterTime-t.timeCount)+"秒后进入")])],1)],1)]],2)],1)},a=[]},c461:function(t,i,e){"use strict";(function(t){e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("d3b7"),e("ddb0");e("51b3"),e("460c");var n=null,a=getApp(),o=a.globalData,s=e("d3e5"),c=t.database(),r=(c.collection("Set"),{data:function(){return{COLORTHEMECOMMON:o.COLORTHEMECOMMON,COLORTHEME:o.COLORTHEME,COLORTHEMESTYLE:o.COLORTHEMESTYLE,THEMEID:o.THEMEID,THEMETYPE:o.THEMETYPE,THEMELIST:o.THEMELIST,VERSION:o.VERSION,AD:o.AD,show_apploading:!0,show_loadingerr:"",enterTime:1,timeCount:0}},onLoad:function(){n=this,n.getReady()},methods:{getAppPublicKey:function(t){var i=e("ffcd");console.log("开始验证签名"),o.skipSign?t(!0):s.ca.querySignValid(i.ca.getTempSignData(),i.ca.getTempSign(),(function(i){i&&(o.PUBLICKEY=i,o.ENCRYPTO.keys.ca.setPubKey(i),t(!0)),t(!1)}))||t(!1)},getReady:function(t,i){i&&(o.skipSign=!0),n.show_apploading=!0,n.show_loadingerr="",o.ServerReady((function(){console.log("开始DH获取签名"),n.getAppPublicKey((function(t){if(o.AppInit.status&&t)return n.show_apploading=!1,void uni.reLaunch({url:"/pages/main/main"});n.show_loadingerr=t?o.AppInit.info:"签名验证失败"}))}))}}});i.default=r}).call(this,e("a9ff")["default"])},d3e5:function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.ca=void 0,i.request=r,i.showFail=c;e("51b3"),e("460c");var n=getApp(),a=n.globalData,o=a.ENCRYPTO,s="加载";function c(t,i){"string"!=typeof i&&(i=s),uni.hideLoading(),uni.showModal({title:i+"失败",content:t,showCancel:!1})}function r(t){var i,e,n,r,l=t.title,u=t.tipShow,f=t.tipOption,d=t.tipActionCancel,p=t.tipActionSuccess,g=(t.packPublicKey,t.data),v=t.keyOption,h=t.optionUrl,y=t.urlPath,E=t.success,O=t.fail;if("boolean"!=typeof u&&(u=!0),"string"!=typeof l&&(l="加载"),s=l,console.log("开始请求",l,t),u){if(!f)return void console.error("使用tipShow请传入tipOption");if(i=f.WAIT,e=f.tipText,n=f.tipSubText,r=f.cancelText,!i)return void console.error("使用tipShow请传入tipOption.WAIT，请使用当前显示页面的WAITObj！");e||(e="正在"+l),n||(n="请稍后"),r||(r="取消")}var b={};u&&a.showWait(i,e,n,r,(function(t,i){if(t){if("function"==typeof p&&p(i))return;i()}else{if("function"==typeof b.abort&&b.abort(),"function"==typeof d&&d(i))return;i()}})),console.log("keyoption=",v);var w=o.cover.packData(g,!0,v),T="http://"+a.ServerUrl+"/"+a.AppServerName+"/"+y;console.log(y),h&&(T=y),console.log(T),b=uni.request({url:T,method:"POST",header:{"content-type":"application/json"},data:w,responseType:"json",sslVerify:!1,firstIpv4:!0,success:function(t){if(console.log("收到数据",t),200!=t.statusCode)return u&&a.hideWait(i,!1),void c("服务器错误："+t.data.error,l);var e=o.cover.unpackData(t.data),n=function(t){"boolean"!=typeof t&&(t=!0),u&&a.hideWait(i,t)};"function"==typeof E&&E(e,n)||n()},fail:function(t){console.log("请求失败",t);var e=function(){(u||"function"!=typeof O)&&c("错误："+t.errMsg,l),u&&a.hideWait(i,!1)};"function"==typeof O&&(u&&c("错误："+t.errMsg,l),O(t,e))||e()}})}var l=e("ffcd"),u=e("1818"),f={getPublicKey:l.ca.getPublicKey,getPublicSignKey:l.ca.getPublicSignKey,querySignValid:function(t,i,e){return uni.showLoading({title:"签名验证中"}),u.verifySign(t,i,this.getPublicSignKey())?(console.log(a.CAURL),r({tipShow:!1,title:"验证签名",optionUrl:!0,urlPath:a.CAURL+"queryB",keyOption:this.getPublicKey(),data:{certificate:i},success:function(i,n){if(uni.hideLoading(),i.status){if(1==i.data){var a=JSON.parse(t).data;e(a)}else e("");n(!0)}else n(!1),server.showFail(i.errMsg);return!0},fail:function(){uni.hideLoading(),e("")}}),!0):(uni.hideLoading(),!1)}};i.ca=f},f690:function(t,i,e){"use strict";var n=e("6393"),a=e.n(n);a.a}}]);